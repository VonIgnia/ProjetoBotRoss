def pianobot():
  set_tcp(p[-0.06885238111901536,-0.03464754671555071,0.0994766541085446,0.0,0.0,0.0])
  set_payload(0.75, [0.0, 0.0, 0.275])
  set_gravity([0.0, 0.0, 9.82])
  set_tool_voltage(24)
  modbus_add_signal("10.103.16.110", 255, 180, 2, "escala", False)
  modbus_set_signal_update_frequency("escala", 10)
  modbus_add_signal("10.103.16.110", 255, 181, 2, "start", False)
  modbus_set_signal_update_frequency("start", 10)
  step_count_539e2b37_cae6_4fcb_82b1_91d3ba7dadf7 = 0.0
  thread Step_Counter_Thread_732c80c3_91e7_4317_a793_6c45d4e487ea():
    while (True):
      step_count_539e2b37_cae6_4fcb_82b1_91d3ba7dadf7 = step_count_539e2b37_cae6_4fcb_82b1_91d3ba7dadf7 + 1.0
      sync()
    end
  end
  run Step_Counter_Thread_732c80c3_91e7_4317_a793_6c45d4e487ea()
  set_standard_analog_input_domain(0, 1)
  set_standard_analog_input_domain(1, 1)
  set_tool_analog_input_domain(0, 0)
  set_tool_analog_input_domain(1, 0)
  set_analog_outputdomain(0, 1)
  set_analog_outputdomain(1, 0)
  set_input_actions_to_default()
  set_safety_mode_transition_hardness(0)
  global plane=[0, 0, 0, 0, 0, 0]
  global free=1
  global Gaveteiro_plane=p[-0.18391406007170819,-0.6890912013208738,-0.3091053148893457,-3.136624244641354,-0.07450754164245207,-0.012062489851684073]
  global Plane_var=p[0.0455072287759728,0.5532633607914713,-0.12009520789912541,0.02088120484419274,0.010016746118093,-0.02458726325044075]
  global PlanoArAula9=p[0.7942382577522773,-0.05274490106868765,0.28953087333027294,-1.2101977474418126,-1.2112243285351472,1.2072853144995164]
  global PlanoMesaAula9=p[0.4316603038800538,-0.4176154966413232,-0.22708615915239258,0.0011409468517281232,-0.0021558803218785405,-3.3834622272085614E-4]
  global Plano_BotRoss=p[0.5129185800088744,-0.3792409256028138,-0.1000018243631305,9.23807234748941E-5,-2.015480899834448E-4,0.053543392723625585]
  global Plano_mesa_gio=p[0.5722610509435332,-0.40820095277647794,-0.22787514661355984,0.004980319709535583,-0.010045557410892312,0.003475544605146006]
  global dente_do_fabio=p[-0.035555816537643996,-0.6740909409426673,-0.0064083493002282665,-1.00589725139862E-4,4.045896495649504E-5,1.5708456994222595]
  global pianobot=p[-0.7109028231091216,0.6660778779615556,-0.1604388510337735,3.1412980489511626,-0.025720227737131333,0.026813695792987754]
  global plano_mesa=p[-0.23662841972429668,-0.47287500926780834,-0.14478682711687643,-2.8080311879785393E-5,3.098661639892744E-4,-1.57125965760516]
  global rosca_dourada=p[-0.23548377371720555,-0.47402016538414493,-0.006305668157370853,-5.948739813646431E-4,7.084460603449995E-4,-1.5713536250499118]
  global xadrez=p[0.07245008429201542,0.7162309814300137,-0.2492325678677777,0.021240702277102536,0.009909632298596038,-2.9870755951116497]
  global xadrez2=p[-0.24762135118614845,0.3378039779312413,-0.2536888643835707,0.03547999981100722,-0.008259935265332035,0.09585250855875074]
  $ 1 "BeforeStart"
  $ 2 "MoveJ"
  $ 3 "Waypoint_2" "breakAfter"
  set_tcp(p[-0.06885238111901536,-0.03464754671555071,0.0994766541085446,0.0,0.0,0.0])
  movej(get_inverse_kin(p[-.711361034251, .666272605750, -.128038667562, -3.094017509944, .026011084398, -.032267681162], qnear=[2.500338077545166, -2.9697206656085413, -0.45982629457582647, -1.2721932570086878, 1.5348032712936401, 0.9470874667167664]), a=1.3962634015954636, v=1.0471975511965976)
  $ 4 "Waypoint_3" "breakAfter"
  set_tcp(p[-0.06885238111901536,-0.03464754671555071,0.0994766541085446,0.0,0.0,0.0])
  movej(get_inverse_kin(p[-.710770586660, .666020258168, -.161385621872, -3.098440116683, .024458684920, -.043007892380], qnear=[2.5002307891845703, -3.025834862385885, -0.42586976686586553, -1.2582677046405237, 1.5344197750091553, 0.946320116519928]), a=1.3962634015954636, v=1.0471975511965976)
  $ 5 "MoveL"
  $ 6 "Waypoint_1" "breakAfter"
  movel(pose_trans(pianobot, p[1.5520067580143682E-4,2.4054354743285877E-5,9.626339875478673E-4,0.0428835164019704,0.010367052931911222,-1.2664908000794013E-4]), a=1.2, v=0.25)
  $ 7 "Wait: 5.0"
  sleep(5.0)
  while (True):
    $ 8 "Robot Program"
    $ 9 "Wait start≟1"
    while (not(modbus_get_signal_status("start") == 1)):
      sync()
    end
    $ 10 "escala_mm≔p[0.161*escala,0,0,0,0,0]"
    global escala_mm=p[0.161*modbus_get_signal_status("escala"),0,0,0,0,0]
    $ 11 "var_1≔pose_add(p[0,0,0.001,0.04,0.00,0.0],escala_mm)"
    global var_1= pose_add (p[0,0,0.001,0.04,0.00,0.0],escala_mm)
    $ 12 "MoveL"
    $ 13 "var_1" "breakAfter"
    set_tcp(p[-0.06885238111901536,-0.03464754671555071,0.0994766541085446,0.0,0.0,0.0])
    movel(pose_trans(pianobot, var_1), a=1.2, v=0.25)
    $ 14 "Wait: 0.01"
    sleep(0.01)
  end
end
