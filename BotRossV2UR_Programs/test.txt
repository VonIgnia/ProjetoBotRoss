 Program
   BeforeStart
     SocketIP≔socket_open("10.103.16.140",30000)
     MoveJ
       origem
   Robot Program
     Loop SocketIP≟ False 
       SocketIP≔socket_open("10.103.16.140",30000)
       Wait: 0.5
       Call Rotina_Contornos
   Rotina_Contornos
     count≔0
     socket_send_string("asking_for_number_of_position")
     Wait: 0.5
     num≔socket_read_ascii_float(1)
     socket_send_string("asking_for_data")
     Wait: 0.5
     list≔socket_read_ascii_float(num)
     Wait: 0.5
     SocketIP≔ False 
     socket_close()
     If list[0]≠0
       pose_desejada≔p[list[count+1]/1000,list[count+2]/1000,list[count+3]/1000,0,0,0]
       pose_atual≔get_actual_tcp_pose()
       count≔count+3
       destino≔pose_trans(Plano_BotRoss,pose_desejada)
       MoveL
         destino
         Wait: 0
   Rotina_Pick_Caneta
     Wait: 0.01
     'a linha a seguir causa um movimento brusco e intenso'
     speedl([0.5,0.5,0.5,0,0,0],0.5,5)
